#include<iostream>
#include<algorithm>

using namespace std;

int n;
int cache[1001];
int A[1001];

int search(void)
{
	int ret = 0;
	for (int i = 0; i < n; i++)
	{
		cache[i] = A[i];

		for (int j = 0; j <= i; j++)
			if (A[i] > A[j] && cache[i] < cache[j] + A[i]) //수열에서 앞에꺼보다 뒤에 수열이 더 큰경우 && i로 나타내는 현재 값보다 전에서 계속 더한 값이 
				cache[i] = cache[j] + A[i];				//더 크다면 더 큰값으로 갱신한다

			if (cache[i] > ret)
				ret = cache[i];
	}


	return ret;
}

int main(int argc, int argv[])
{
	cin >> n;

	for (int i = 0; i < n; i++)
		cin >> A[i];

	cout << search() << endl;
}
